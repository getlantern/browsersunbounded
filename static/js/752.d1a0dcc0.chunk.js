"use strict";(self.webpackChunkbrowsers_unbounded_ui=self.webpackChunkbrowsers_unbounded_ui||[]).push([[752],{8752:function(n,t,e){e.r(t),e.d(t,{default:function(){return G}});var r,a,o=e(3433),i=e(9439),u=e(6307),c=e(4473),s=e(7313),l=e(4004),d=e(7292),f=e(168),m=e(244),g=e(6417),h=m.ZP.span(r||(r=(0,f.Z)(["\n  background: ",";\n  background-blend-mode: multiply;\n  mix-blend-mode: multiply;\n\ttransition: scale 50ms ease-out;\n"])),(function(n){return n.theme===d.b3.DARK?"radial-gradient(49.66% 42.81% at 52.18% 56.64%, rgba(0, 0, 0, 0.5) 0%, rgba(1, 45, 45, 0.5) 30.21%, rgba(255, 255, 255, 0.5) 100%)":"radial-gradient(49.66% 42.81% at 52.18% 56.64%, rgba(227, 227, 227, 0.5) 0%, rgba(234, 234, 234, 0.5) 24%, rgba(255, 255, 255, 0.5) 100%)"})),p=function(n){var t=n.scale,e=(0,s.useContext)(l.I).settings.theme;return(0,g.jsx)(h,{theme:e,className:"shadow",style:{transform:"scale(".concat(t,")")}})},b=m.ZP.div(a||(a=(0,f.Z)(["\n  white-space: nowrap;\n  background: ",";\n  border-radius: 100px;\n  box-shadow: ",";\n  color: ",";\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  padding: 10px 18px;\n  transition: opacity 250ms ease-out;\n  opacity: ",";\n  pointer-events: ",";\n"])),d.DM.grey6,d.E6.dark,d.DM.grey1,(function(n){return n.show?1:0}),(function(n){return n.show?"auto":"none"})),v=e(4427),y=function(n){var t=(0,s.useState)({x:0,y:0}),e=(0,i.Z)(t,2),r=e[0],a=e[1];return(0,v.Z)("mousemove",(function(n){a({x:n.offsetX,y:n.offsetY})}),n),r},x=function(n){var t=n.text,e=n.show,r=n.container,a=(0,s.useState)(t),o=(0,i.Z)(a,2),u=o[0],c=o[1],l=y(r),d=(0,s.useState)(l),f=(0,i.Z)(d,2),m=f[0],h=f[1];return(0,s.useEffect)((function(){e&&h(l)}),[e]),(0,s.useEffect)((function(){t&&c(t)}),[t]),(0,g.jsx)(b,{style:{position:"absolute",top:m.y-10,left:m.x-10},show:e,"aria-hidden":!e,children:u})},w=e(4264),D=e(7),R=e(9105),Z=e(5825),L=e(5590),S=function(n,t,e){if(250===n)return-10;var r=-10;return t&&(r+=40),e&&(r-=40),r},k=function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=100,e=document.createElement("canvas");e.width=t,e.height=t;var r=e.getContext("2d"),a=r.createRadialGradient(50,50,0,50,50,50);return a.addColorStop(0,n?"rgba(0, 188, 212, 1)":"rgba(255, 193, 7, 1)"),a.addColorStop(1,n?"rgba(0, 188, 212, 0)":"rgba(255, 193, 7, 0)"),r.fillStyle=a,r.fillRect(0,0,t,t),new Z.ROQ(e)},C=k(!0),E=k(!1),j=new Z.YBo({map:C,blending:Z.bdR,transparent:!0,name:"blue"}),A=new Z.YBo({map:E,blending:Z.bdR,transparent:!0,name:"yellow"}),G=function(n){var t=n.target,e=(0,L.$G)().t,r=(0,s.useContext)(l.I),a=r.width,f=r.settings,m=f.theme,h=f.title,b=f.menu,v=a<d.Bs?250:400,y=(0,s.useRef)(!1),Z=(0,s.useState)(null),k=(0,i.Z)(Z,2),C=k[0],E=k[1],G=C?C.count:0,I=(0,s.useRef)(),M=(0,s.useRef)(),P=(0,w.P)(),T=P.arcs,_=P.points,H=(0,s.useState)(14),B=(0,i.Z)(H,2),Y=B[0],N=B[1],O=(0,R.Z)(),U=(0,s.useMemo)((function(){return T?T.map((function(n){return{endLat:n.endLat,endLng:n.endLng,startLat:n.startLat,startLng:n.startLng,count:n.count,country:n.country,altitude:n.altitude,iso:n.iso,ghost:!0}})):[]}),[T]);(0,s.useEffect)((function(){I.current&&(I.current.controls().autoRotate=!C)}),[C]);var K=function(n){I.current&&(I.current.controls().autoRotateSpeed=n)};return(0,s.useEffect)((function(){if(O){var n=setTimeout((function(){var n;if(I.current){var t=null===(n=I.current)||void 0===n?void 0:n.scene();if(t){var e=t.children.find((function(n){return"Group"===n.type}));if(e){var r=e.children[0].children[1].children,a=r.map((function(n){return n.uuid})),o=t.children.filter((function(n){return"clone"===n.name})),i=o.map((function(n){return n.uuid}));r.forEach((function(n){var e=n.uuid;if(!i.map((function(n){return n.replace("-clone","")})).includes(e)){var r=n.clone();0===n.material.color.r||"blue"===n.material.name?r.material=j:r.material=A,r.uuid=e+"-clone",r.name="clone",t.add(r)}})),o.forEach((function(n){var e=n.uuid;a.includes(e.replace("-clone",""))||t.remove(n)}))}}}}),50);return function(){n&&clearTimeout(n)}}}),[_,O]),(0,g.jsxs)(c.W,{ref:M,offset:S(v,h,b),size:v,active:!!C,style:{minHeight:250,maxHeight:!b&&h?424:!b||h?400:350},onMouseEnter:function(){return K(1)},onMouseLeave:function(){return K(1.5)},children:[(0,g.jsx)(p,{scale:1/(Y/2)}),(0,g.jsx)(u.Z,{ref:I,onGlobeReady:function(){if(!y.current&&I.current){y.current=!0;var n=I.current.controls(),e=I.current.camera(),r=I.current.scene();n.enableZoom=t!==d.tY.EXTENSION_POPUP,n.autoRotate=!0,n.maxDistance=1500,n.minDistance=300,n.autoRotateSpeed=1.5;var a=r.children.find((function(n){return"DirectionalLight"===n.type}));a&&(a.intensity=.25);var o=a.clone();o.position.set(0,500,0),e.add(o),r.add(e),r.remove(a)}},width:v,height:v,enablePointerInteraction:!0,waitForGlobeReady:!0,showAtmosphere:!0,atmosphereColor:m===d.b3.LIGHT?d.DM.altBrand:d.DM.brand,atmosphereAltitude:m===d.b3.LIGHT?.2:.25,backgroundColor:"rgba(0,0,0,0)",backgroundImageUrl:null,globeImageUrl:m===d.b3.DARK?d.j5:d.ck,arcsData:[].concat((0,o.Z)(T),(0,o.Z)(U)),arcColor:function(n){return n.ghost?"rgba(255, 255, 255, 0)":["rgba(0, 188, 212, 0.75)","rgba(255, 193, 7, 0.75)"]},arcDashLength:1,arcDashGap:.5,arcDashInitialGap:1,arcDashAnimateTime:function(n){return n.ghost?0:1e3},arcsTransitionDuration:0,arcStroke:function(n){return n.ghost?10:2},arcAltitudeAutoScale:function(n){return n.altitude},onArcHover:E,pointsData:_,pointColor:function(n){return n.origin?"rgba(0, 188, 212, 0.05)":"rgba(255, 193, 7, 0.05)"},pointRadius:4,pointAltitude:0,pointsTransitionDuration:500,onZoom:function(n){var t=Math.round(10*n.altitude)/10;t!==Y&&N(t)}}),(0,g.jsx)(x,{text:!!C&&function(){var n=C.country.split(",")[0];return e(G>1?"peers":"peer",{country:n,count:G})},show:!!C,container:M}),(0,g.jsx)(D.P_,{})]})}}}]);